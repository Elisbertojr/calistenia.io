<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Calistenia em Casa ‚Ä¢ Rotina do Zero ao Avan√ßado</title>
  <style>
    :root{
      --bg:#0b1020;
      --panel:#0f1733;
      --panel2:#101b3d;
      --text:#e9ecf6;
      --muted:#aab3d6;
      --brand:#7c5cff;
      --brand2:#23c4ff;
      --ok:#2ee59d;
      --warn:#ffd166;
      --danger:#ff5c7a;
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --radius: 18px;
    }

    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background:
        radial-gradient(900px 500px at 10% 10%, rgba(124,92,255,.25), transparent 60%),
        radial-gradient(900px 500px at 90% 20%, rgba(35,196,255,.18), transparent 60%),
        radial-gradient(900px 500px at 70% 95%, rgba(46,229,157,.12), transparent 60%),
        var(--bg);
      color:var(--text);
      line-height:1.25;
    }

    a{color:inherit}

    .wrap{max-width:1100px; margin:0 auto; padding:24px 18px 60px}

    header{
      display:flex; gap:16px; align-items:center; justify-content:space-between;
      position:sticky; top:0; z-index:20;
      padding:14px 0;
      backdrop-filter: blur(10px);
    }

    .brand{
      display:flex; gap:12px; align-items:center;
    }

    .logo{
      width:44px; height:44px; border-radius:14px;
      background: linear-gradient(135deg, var(--brand), var(--brand2));
      box-shadow: 0 12px 26px rgba(124,92,255,.25);
      display:grid; place-items:center;
      flex:0 0 auto;
    }

    .logo svg{filter: drop-shadow(0 6px 10px rgba(0,0,0,.35))}

    h1{font-size:18px; margin:0}
    .subtitle{color:var(--muted); font-size:13px; margin-top:2px}

    .controls{
      display:flex; gap:10px; align-items:center; flex-wrap:wrap; justify-content:flex-end;
    }

    select, button{
      appearance:none;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(16,27,61,.65);
      color:var(--text);
      padding:10px 12px;
      border-radius:14px;
      outline:none;
      box-shadow: 0 10px 26px rgba(0,0,0,.18);
      font-weight:600;
    }

    select:hover, button:hover{border-color: rgba(124,92,255,.55)}
    button{cursor:pointer}

    .grid{
      display:grid;
      grid-template-columns: 1.15fr .85fr;
      gap:16px;
      align-items:start;
    }

    @media (max-width: 920px){
      .grid{grid-template-columns:1fr}
      header{position:relative}
    }

    .card{
      background: linear-gradient(180deg, rgba(16,27,61,.78), rgba(15,23,51,.78));
      border: 1px solid rgba(255,255,255,.10);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }

    .card .hd{
      padding:16px 16px 10px;
      display:flex; align-items:flex-start; justify-content:space-between; gap:12px;
      border-bottom: 1px solid rgba(255,255,255,.08);
    }

    .badge{
      font-size:12px;
      padding:6px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      color:var(--muted);
      background: rgba(0,0,0,.12);
      white-space:nowrap;
    }

    .hd h2{margin:0; font-size:16px}
    .hd p{margin:6px 0 0; color:var(--muted); font-size:13px}

    .card .bd{padding:14px 16px 16px}

    .days{
      display:flex; gap:8px; flex-wrap:wrap;
      padding:12px 16px 0;
    }

    .chip{
      display:flex; gap:8px; align-items:center;
      padding:8px 10px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.12);
      background: rgba(0,0,0,.10);
      color:var(--muted);
      font-weight:700;
      cursor:pointer;
      user-select:none;
    }

    .chip[aria-selected="true"]{
      background: linear-gradient(135deg, rgba(124,92,255,.30), rgba(35,196,255,.18));
      border-color: rgba(124,92,255,.55);
      color: var(--text);
    }

    .list{display:flex; flex-direction:column; gap:10px}

    .ex{
      display:flex; gap:12px; align-items:flex-start;
      padding:12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
    }

    .thumb{
      width:46px; height:46px;
      border-radius:14px;
      background: rgba(255,255,255,.06);
      border:1px solid rgba(255,255,255,.10);
      display:grid; place-items:center;
      flex: 0 0 auto;
    }

    .ex h3{margin:0; font-size:14px}
    .meta{margin:6px 0 0; color:var(--muted); font-size:13px}
    .tags{display:flex; flex-wrap:wrap; gap:6px; margin-top:8px}

    .tag{
      font-size:12px;
      padding:4px 8px;
      border-radius:999px;
      border:1px solid rgba(255,255,255,.10);
      color:var(--muted);
      background: rgba(16,27,61,.35);
    }

    .tag.ok{border-color: rgba(46,229,157,.35); color:#bff7e2}
    .tag.warn{border-color: rgba(255,209,102,.35); color:#ffe7b0}
    .tag.danger{border-color: rgba(255,92,122,.35); color:#ffd0d8}

    .small{
      font-size:12px; color:var(--muted);
    }

    .kpis{display:grid; grid-template-columns:repeat(3,1fr); gap:10px}
    @media (max-width: 520px){ .kpis{grid-template-columns:1fr} }

    .kpi{
      padding:12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
    }
    .kpi strong{display:block; font-size:14px}
    .kpi span{display:block; margin-top:4px; color:var(--muted); font-size:12px}

    .footer-actions{display:flex; gap:10px; flex-wrap:wrap; margin-top:12px}

    .note{
      margin-top:12px;
      padding:12px;
      border-radius:16px;
      background: rgba(124,92,255,.12);
      border: 1px solid rgba(124,92,255,.18);
      color: #e7e4ff;
      font-size:13px;
    }

    .muted-box{
      padding:12px;
      border-radius: 16px;
      border:1px solid rgba(255,255,255,.10);
      background: rgba(0,0,0,.10);
      color: var(--muted);
      font-size:13px;
    }

    .print-only{display:none}

    @media print{
      body{background:white; color:#111}
      header,.controls,.days,.footer-actions{display:none !important}
      .wrap{max-width:900px}
      .card{box-shadow:none; background:white; border:1px solid #ddd}
      .ex,.kpi,.muted-box{background:white; border:1px solid #eee}
      .tag{border:1px solid #ddd; color:#333}
      .print-only{display:block}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <div class="brand">
        <div class="logo" aria-hidden="true" title="Calistenia">
          <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M6 8h12" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M8 8v10" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M16 8v10" stroke="white" stroke-width="2" stroke-linecap="round"/>
            <path d="M9 18h6" stroke="white" stroke-width="2" stroke-linecap="round"/>
          </svg>
        </div>
        <div>
          <h1>Calistenia em Casa</h1>
          <div class="subtitle">Escolha o n√≠vel e o dia ‚Äî o app monta a rotina (barra + peso do corpo)</div>
        </div>
      </div>

      <div class="controls">
        <select id="levelSelect" aria-label="N√≠vel">
          <option value="iniciante">Iniciante (0‚Äì8 semanas)</option>
          <option value="intermediario">Intermedi√°rio (2‚Äì6 meses)</option>
          <option value="avancado">Avan√ßado (6+ meses)</option>
        </select>

        <select id="freqSelect" aria-label="Frequ√™ncia semanal">
          <option value="3">Frequ√™ncia: 3x/sem (A-B-C)</option>
          <option value="4">Frequ√™ncia: 4x/sem (A-B-C-A)</option>
          <option value="5">Frequ√™ncia: 5x/sem (A-B-C-A-B)</option>
        </select>

        <button id="randomBtn" title="Sugerir um dia">üé≤ Sugerir dia</button>
        <button id="printBtn" title="Imprimir/Salvar em PDF">üñ®Ô∏è Imprimir</button>
      </div>
    </header>

    <div class="grid">
      <main class="card" id="routineCard">
        <div class="hd">
          <div>
            <h2 id="routineTitle">Rotina</h2>
            <p id="routineSubtitle">Selecione um n√≠vel para gerar o treino.</p>
          </div>
          <div class="badge" id="badgeInfo">‚Äî</div>
        </div>

        <div class="days" role="tablist" aria-label="Dias">
          <div class="chip" role="tab" tabindex="0" data-day="A" aria-selected="true">üîµ Dia A <span class="small">Puxar</span></div>
          <div class="chip" role="tab" tabindex="0" data-day="B" aria-selected="false">üî¥ Dia B <span class="small">Empurrar</span></div>
          <div class="chip" role="tab" tabindex="0" data-day="C" aria-selected="false">üü¢ Dia C <span class="small">Pernas + Core</span></div>
        </div>

        <div class="bd">
          <div class="print-only" style="margin-bottom:10px; font-weight:700;">Calistenia em Casa ‚Ä¢ Rotina Gerada</div>
          <div class="list" id="exerciseList"></div>
          <div class="note" id="dayNote"></div>
        </div>
      </main>

      <aside class="card">
        <div class="hd">
          <div>
            <h2>Como progredir</h2>
            <p>Regras do plano (do chat) para evoluir sem se perder.</p>
          </div>
          <div class="badge">üìà</div>
        </div>
        <div class="bd">
          <div class="kpis">
            <div class="kpi">
              <strong>Descanso</strong>
              <span>60‚Äì90s (normal) ‚Ä¢ 2 min (dif√≠cil)</span>
            </div>
            <div class="kpi">
              <strong>Dura√ß√£o</strong>
              <span>25‚Äì60 min (depende do n√≠vel)</span>
            </div>
            <div class="kpi">
              <strong>Regra de ouro</strong>
              <span>Suba a dificuldade, n√£o s√≥ repeti√ß√µes</span>
            </div>
          </div>

          <div class="muted-box" style="margin-top:12px">
            <div style="font-weight:800; color:var(--text); margin-bottom:8px">Dicas que aceleram</div>
            <ul style="margin:0; padding-left:18px">
              <li>N√£o falhe em toda s√©rie: deixe 1‚Äì2 reps ‚Äúna reserva‚Äù.</li>
              <li>Execu√ß√£o controlada (especialmente nas negativas).</li>
              <li>Pendurado na barra todo dia ajuda pegada e ombro.</li>
              <li>Sono e consist√™ncia valem mais que ‚Äútruques‚Äù.</li>
            </ul>
          </div>

          <div class="footer-actions">
            <button id="copyBtn">üìã Copiar treino</button>
            <button id="resetBtn">‚Ü∫ Resetar</button>
          </div>

          <div class="small" style="margin-top:10px">
            Observa√ß√£o: ‚Äúimagens‚Äù aqui s√£o √≠cones/ilustra√ß√µes (o chat n√£o trouxe links diretos de imagens). Se voc√™ quiser, eu adapto o app para usar imagens por URL.
          </div>
        </div>
      </aside>
    </div>
  </div>

  <script>
    // ===== Dados do treino (baseado no conte√∫do do chat) =====
    const PLAN = {
      iniciante: {
        label: "Iniciante (0‚Äì8 semanas)",
        goals: ["10 flex√µes boas", "1 barra completa"],
        time: "25‚Äì35 min",
        days: {
          A: {
            title: "Dia A ‚Äî Puxar (barra)",
            subtitle: "For√ßa b√°sica + pegada + esc√°pulas",
            note: "Se voc√™ ainda n√£o faz barra completa: foque nas negativas. Elas funcionam MUITO.",
            items: [
              ex("Dead hang (pendurado)", "3√ó20‚Äì30s", ["barra", "pegada"], "hang"),
              ex("Pull-up negativa", "4√ó3‚Äì5", ["controle", "descer lento"], "pull"),
              ex("Remada australiana", "3√ó8‚Äì12", ["costas", "core firme"], "row"),
              ex("Encolhimento escapular na barra", "3√ó8", ["esc√°pulas", "ombros"], "scap")
            ]
          },
          B: {
            title: "Dia B ‚Äî Empurrar", 
            subtitle: "Peito + ombro + tr√≠ceps",
            note: "Fa√ßa a execu√ß√£o limpa: corpo reto, abd√¥men firme. Pare 1‚Äì2 reps antes da falha.",
            items: [
              ex("Flex√£o de joelhos", "3√ó10", ["se necess√°rio", "base"], "push"),
              ex("Flex√£o normal", "3√óm√°ximo", ["controle", "core"], "push"),
              ex("Mergulho em cadeira (dips)", "3√ó8", ["tr√≠ceps", "cuidado com ombro"], "dip"),
              ex("Prancha", "3√ó20‚Äì40s", ["core", "postura"], "core")
            ]
          },
          C: {
            title: "Dia C ‚Äî Pernas + Core",
            subtitle: "Base, estabilidade e abd√¥men",
            note: "Mantenha joelhos alinhados e controle no agachamento/avan√ßo.",
            items: [
              ex("Agachamento livre", "4√ó12", ["amplitude", "controle"], "legs"),
              ex("Avan√ßo (lunge)", "3√ó10 cada perna", ["equil√≠brio", "gl√∫teo"], "lunge"),
              ex("Ponte de gl√∫teo", "3√ó12", ["gl√∫teo", "posterior"], "glute"),
              ex("Eleva√ß√£o de pernas deitado", "3√ó10", ["abd√¥men", "lento"], "core")
            ]
          }
        }
      },

      intermediario: {
        label: "Intermedi√°rio (2‚Äì6 meses)",
        goals: ["8‚Äì10 barras", "25+ flex√µes", "dips f√°ceis"],
        time: "35‚Äì50 min",
        days: {
          A: {
            title: "Dia A ‚Äî Puxar (intermedi√°rio)",
            subtitle: "Volume e progress√£o na barra",
            note: "Tente somar repeti√ß√µes totais. Se travar, use s√©ries menores e mais s√©ries.",
            items: [
              ex("Barra fixa", "5√óm√°x", ["qualidade", "amplitude"], "pull"),
              ex("Chin-up", "3√ó6‚Äì10", ["b√≠ceps", "controle"], "chin"),
              ex("Remada australiana (p√©s elevados)", "3√ó10", ["costas", "core"], "row"),
              ex("Eleva√ß√£o de joelhos na barra", "3√ó12", ["core", "sem balan√ßar"], "hang")
            ]
          },
          B: {
            title: "Dia B ‚Äî Empurrar (intermedi√°rio)",
            subtitle: "Mais intensidade e ombro",
            note: "Suba a dificuldade antes de virar treino infinito de reps.",
            items: [
              ex("Flex√£o tradicional", "4√óm√°x", ["t√©cnica", "core"], "push"),
              ex("Flex√£o declinada", "3√ó8", ["peito superior", "ombro"], "push"),
              ex("Dips", "4√ó10", ["tr√≠ceps", "profundidade"], "dip"),
              ex("Pike push-up", "3√ó8", ["ombro", "controle"], "pike")
            ]
          },
          C: {
            title: "Dia C ‚Äî Pernas + Core (intermedi√°rio)",
            subtitle: "Unilateral + explos√£o + estabilidade",
            note: "Pernas fortes ajudam em skills (muscle-up/handstand) e evitam desequil√≠brios.",
            items: [
              ex("Bulgarian squat", "3√ó8 cada", ["unilateral", "est√°vel"], "legs"),
              ex("Agachamento explosivo", "3√ó10", ["pot√™ncia", "pouso suave"], "jump"),
              ex("Panturrilha", "4√ó15", ["pausa em cima", "controle"], "calf"),
              ex("Prancha com toque no ombro", "3√ó20", ["anti-rota√ß√£o", "core"], "core")
            ]
          }
        }
      },

      avancado: {
        label: "Avan√ßado (6+ meses)",
        goals: ["pull-up explosiva forte", "progress√£o de muscle-up", "holds de front/planche"],
        time: "45‚Äì60 min",
        days: {
          A: {
            title: "Dia A ‚Äî Puxar (avan√ßado)",
            subtitle: "Explos√£o + habilidades",
            note: "Aqui vale mais qualidade do que volume. Descanso 2 min nos movimentos dif√≠ceis.",
            items: [
              ex("Pull-up explosiva", "5√ó5", ["pot√™ncia", "suba r√°pido"], "explode"),
              ex("Muscle-up (progress√£o)", "t√©cnica", ["transi√ß√£o", "coordena√ß√£o"], "mu"),
              ex("Front lever (tuck hold)", "4√ó10s", ["hold", "esc√°pulas"], "lever"),
              ex("Toes-to-bar", "3√ó10", ["core", "controle"], "hang")
            ]
          },
          B: {
            title: "Dia B ‚Äî Empurrar (avan√ßado)",
            subtitle: "Ombro + planche",
            note: "Se sentir desconforto no punho/ombro, reduza amplitude e fortale√ßa lentamente.",
            items: [
              ex("Handstand push-up (parede)", "4√óm√°x", ["ombro", "linha"], "hspu"),
              ex("Pseudo planche push-up", "4√ó8", ["inclina√ß√£o", "controle"], "planche"),
              ex("Dips profundos", "4√ó12", ["for√ßa", "controle"], "dip"),
              ex("Planche lean", "4√ó15s", ["hold", "esc√°pulas"], "lean")
            ]
          },
          C: {
            title: "Dia C ‚Äî Pernas + Core (avan√ßado)",
            subtitle: "Unilateral pesado + core forte",
            note: "Movimentos avan√ßados pedem core forte. Foque em qualidade e respira√ß√£o.",
            items: [
              ex("Pistol squat (progress√£o)", "4√ó5", ["controle", "amplitude"], "pistol"),
              ex("Jump lunges", "3√ó12", ["explos√£o", "pouso"], "jump"),
              ex("Panturrilha unilateral", "4√ó15", ["equil√≠brio", "pausa"], "calf"),
              ex("Dragon flag", "3√ó5", ["core", "lento"], "dragon")
            ]
          }
        }
      }
    };

    function ex(name, dose, tags, icon){
      return { name, dose, tags, icon };
    }

    // ===== √çcones simples (inline SVG) =====
    const ICONS = {
      pull: svg("M6 8h12M8 8v10M16 8v10M9 18h6"),
      chin: svg("M7 7h10M9 7v11M15 7v11M10 18h4"),
      row: svg("M5 9h14M7 9l2 10M17 9l-2 10M9 19h6"),
      scap: svg("M7 8h10M9 8v10M15 8v10M12 12l-3 2m3-2l3 2"),
      push: svg("M7 15h10M8 15l2-6h4l2 6M9 19h6"),
      dip: svg("M8 8h8M9 8v7M15 8v7M10 15h4M12 15v4"),
      pike: svg("M7 16l5-8 5 8M9 16v3M15 16v3"),
      core: svg("M8 8h8M8 12h8M9 16h6"),
      hang: svg("M6 7h12M9 7v4m6-4v4M10 11l2 2 2-2M8 21h8"),
      legs: svg("M9 6h6M10 6v6l-2 9M14 6v6l2 9"),
      lunge: svg("M10 6h4M9 10l3 4 3-4M8 21l2-7M16 21l-2-7"),
      glute: svg("M8 14h8M7 14l2-4h6l2 4M10 18h4"),
      jump: svg("M8 12h8M9 12l-2 6M15 12l2 6M7 9l2-2m8 2l-2-2"),
      calf: svg("M10 6h4M10 6l-2 9M14 6l2 9M9 15h6"),
      explode: svg("M12 3l1.2 4.2L17 8l-3.8 1.1L12 13l-1.2-3.9L7 8l3.8-.8L12 3zM6 21h12"),
      mu: svg("M6 8h12M8 8v6m8-6v6M10 14l2 2 2-2M9 19h6"),
      lever: svg("M7 9h10M9 9v3m6-3v3M8 16h8M10 16l-2 4M14 16l2 4"),
      hspu: svg("M10 5h4M12 5v7M9 12l3 4 3-4M8 21h8"),
      planche: svg("M7 15h10M8 15l2-4h4l2 4M10 11h4"),
      lean: svg("M7 16h10M9 16l3-6 3 6M11 10h2"),
      pistol: svg("M10 6h4M12 6v8M9 14h6M8 21l4-7M16 21l-2-4"),
      dragon: svg("M8 8h8M7 12h10M8 16h8M10 20h4")
    };

    function svg(pathD){
      return `\
        <svg width="22" height="22" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\
          <path d="${pathD}" stroke="rgba(255,255,255,.92)" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>\
        </svg>`;
    }

    // ===== Estado =====
    const state = {
      level: "iniciante",
      day: "A",
      freq: 3
    };

    // ===== Elementos =====
    const levelSelect = document.getElementById("levelSelect");
    const freqSelect = document.getElementById("freqSelect");
    const chips = Array.from(document.querySelectorAll(".chip"));
    const routineTitle = document.getElementById("routineTitle");
    const routineSubtitle = document.getElementById("routineSubtitle");
    const badgeInfo = document.getElementById("badgeInfo");
    const exerciseList = document.getElementById("exerciseList");
    const dayNote = document.getElementById("dayNote");

    // ===== Render =====
    function render(){
      const plan = PLAN[state.level];
      const day = plan.days[state.day];

      routineTitle.textContent = day.title;
      routineSubtitle.textContent = day.subtitle;
      badgeInfo.textContent = `${plan.label} ‚Ä¢ ${plan.time}`;

      // chips
      chips.forEach(ch => {
        const isSel = ch.dataset.day === state.day;
        ch.setAttribute("aria-selected", String(isSel));
      });

      // list
      exerciseList.innerHTML = day.items.map(item => {
        const icon = ICONS[item.icon] || ICONS.core;
        const tags = (item.tags || []).map(t => {
          const cls = classifyTag(t);
          return `<span class="tag ${cls}">${escapeHtml(t)}</span>`;
        }).join("");

        return `\
          <div class="ex">\
            <div class="thumb" aria-hidden="true">${icon}</div>\
            <div style="flex:1">\
              <h3>${escapeHtml(item.name)}</h3>\
              <div class="meta"><strong>${escapeHtml(item.dose)}</strong> <span class="small">‚Ä¢ descanso 60‚Äì90s (2 min se dif√≠cil)</span></div>\
              <div class="tags">${tags}</div>\
            </div>\
          </div>`;
      }).join("");

      dayNote.textContent = day.note;

      // atualizar selects
      levelSelect.value = state.level;
      freqSelect.value = String(state.freq);

      // salvar estado
      localStorage.setItem("cali_state", JSON.stringify(state));
    }

    function classifyTag(t){
      const s = t.toLowerCase();
      if (s.includes("cuidado") || s.includes("desconfort")) return "danger";
      if (s.includes("controle") || s.includes("lento") || s.includes("t√©cnica") || s.includes("postura")) return "ok";
      if (s.includes("se necess√°rio") || s.includes("base") || s.includes("amplitude") || s.includes("equil√≠brio")) return "warn";
      return "";
    }

    function escapeHtml(str){
      return String(str)
        .replaceAll("&","&amp;")
        .replaceAll("<","&lt;")
        .replaceAll(">","&gt;")
        .replaceAll('"',"&quot;")
        .replaceAll("'","&#039;");
    }

    // ===== Intera√ß√µes =====
    levelSelect.addEventListener("change", (e)=>{
      state.level = e.target.value;
      render();
    });

    freqSelect.addEventListener("change", (e)=>{
      state.freq = Number(e.target.value);
      render();
    });

    chips.forEach(ch => {
      ch.addEventListener("click", ()=>{
        state.day = ch.dataset.day;
        render();
      });
      ch.addEventListener("keydown", (ev)=>{
        if(ev.key === "Enter" || ev.key === " "){
          ev.preventDefault();
          state.day = ch.dataset.day;
          render();
        }
      });
    });

    document.getElementById("randomBtn").addEventListener("click", ()=>{
      const days = ["A","B","C"];
      state.day = days[Math.floor(Math.random()*days.length)];
      render();
    });

    document.getElementById("printBtn").addEventListener("click", ()=>window.print());

    document.getElementById("copyBtn").addEventListener("click", async ()=>{
      const plan = PLAN[state.level];
      const day = plan.days[state.day];
      const lines = [
        `Calistenia em Casa ‚Äî ${plan.label}`,
        `${day.title} (${day.subtitle})`,
        `Dura√ß√£o: ${plan.time}`,
        "",
        ...day.items.map(i => `- ${i.name}: ${i.dose}`),
        "",
        `Nota: ${day.note}`,
        "",
        "Regra de ouro: suba a dificuldade, n√£o s√≥ repeti√ß√µes.",
        "Descanso: 60‚Äì90s (normal) ‚Ä¢ 2 min (dif√≠cil)."
      ];

      try{
        await navigator.clipboard.writeText(lines.join("\n"));
        toast("Treino copiado! ‚úÖ");
      }catch{
        toast("N√£o consegui copiar automaticamente ‚Äî selecione e copie manualmente.");
      }
    });

    document.getElementById("resetBtn").addEventListener("click", ()=>{
      Object.assign(state, { level:"iniciante", day:"A", freq:3 });
      localStorage.removeItem("cali_state");
      render();
      toast("Resetado.");
    });

    // ===== Toast simples =====
    const toastEl = document.createElement("div");
    toastEl.style.cssText = `position:fixed; left:50%; bottom:18px; transform:translateX(-50%);
      background:rgba(0,0,0,.70); color:white; padding:10px 12px; border-radius:14px;
      border:1px solid rgba(255,255,255,.12); box-shadow:0 14px 40px rgba(0,0,0,.35);
      font-weight:700; font-size:13px; opacity:0; pointer-events:none; transition:opacity .18s ease;`;
    document.body.appendChild(toastEl);

    let toastTimer;
    function toast(msg){
      toastEl.textContent = msg;
      toastEl.style.opacity = "1";
      clearTimeout(toastTimer);
      toastTimer = setTimeout(()=> toastEl.style.opacity = "0", 1400);
    }

    // ===== Boot =====
    (function init(){
      const saved = localStorage.getItem("cali_state");
      if(saved){
        try{
          const s = JSON.parse(saved);
          if(s?.level && PLAN[s.level]) state.level = s.level;
          if(["A","B","C"].includes(s?.day)) state.day = s.day;
          if([3,4,5].includes(Number(s?.freq))) state.freq = Number(s.freq);
        }catch{}
      }
      render();
    })();
  </script>
</body>
</html>
